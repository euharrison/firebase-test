<html>
  <head>
    <title>Firebase Test</title>
  </head>
  <body>


    <h1 id="user-email">...</h1>

    <form id="form-register">
      <label>Email: <input name="email" type="email"></label>
      <label>Password: <input name="password" type="password"></label>
      <button>Registrar</button>
    </form>

    <form id="form-login">
      <label>Email: <input name="email" type="email"></label>
      <label>Password: <input name="password" type="password"></label>
      <button>Login</button>
    </form>

    <div>
      <button id="button-google-login">Google Login</button>
    </div>
    <br>

    <div>
      <button id="button-logout">Logout</button>
    </div>
    <br>



    <script
      src="https://code.jquery.com/jquery-3.2.1.min.js"
      integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
      crossorigin="anonymous"></script>
    <script src="https://www.gstatic.com/firebasejs/4.6.2/firebase.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.6.2/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.6.2/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.6.2/firebase-database.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.6.2/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/4.6.2/firebase-messaging.js"></script>

    <script>
      var config = {
        apiKey: "AIzaSyCACCQJ5uAw2GCwbX7jPOGtCZYU9a_wmjA",
        authDomain: "fir-test1-ac37f.firebaseapp.com",
        databaseURL: "https://fir-test1-ac37f.firebaseio.com",
        projectId: "fir-test1-ac37f",
        storageBucket: "",
        messagingSenderId: "819546458475"
      };
      firebase.initializeApp(config);

      $('#form-register').on('submit', function(e) {
        e.preventDefault();
        var email = $(this).find('[name="email"]').val();
        var password = $(this).find('[name="password"]').val();
        firebase
          .auth()
          .createUserWithEmailAndPassword(email, password)
          .then(console.log)
          .catch(console.error);
      });

      $('#form-login').on('submit', function(e) {
        e.preventDefault();
        var email = $(this).find('[name="email"]').val();
        var password = $(this).find('[name="password"]').val();
        firebase
          .auth()
          .signInWithEmailAndPassword(email, password)
          .then(console.log)
          .catch(console.error);
      });

      $('#button-google-login').on('click', function(e) {
        var provider = new firebase.auth.GoogleAuthProvider();
        firebase
          .auth()
          .signInWithPopup(provider)
          .then(console.log)
          .catch(console.error);
      });

      $('#button-logout').on('click', function(e) {
        firebase
          .auth()
          .signOut()
          .then(console.log)
          .catch(console.error);
      });

      firebase.auth().onAuthStateChanged(function(user) {
        if (user) {
          console.log(user);
          $('#user-email').text(`Hello, ${user.email}!`);
        } else {
          $('#user-email').text('Hello!');
        }
      });

    </script>
  </body>
</html>
